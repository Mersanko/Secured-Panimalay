<!DOCTYPE html>
<html lang="en">

<head>
    <title>Panimalay</title>
    <link rel="shortcut icon" type="image/png" href="{{url_for('static',filename='panimalay-196x196.png')}}">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</head>

<!--CSS-->
<style>
    body {
        background-image: url("{{url_for('static', filename = 'signupbg.jpg')}}");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: 100% 100%;
    }

    .form-control {
        border: 1px solid #e1e1e1;
    }

    .input-group-text {
        padding: .5rem 1rem;
        background-color: #fff;
        border: 1px solid #e1e1e1;
    }
    .field-icon {
        float: left;
        margin-top: 2%;
        margin-right: 2%;
        margin-left: -5%;
    }
</style>
<header>
    <nav class="navbar" style="height: 50px;">
        <ul>
            <li><a class="navbar-brand" href="/"
                    style="color: white;font-size:20; font-family: Arial, Helvetica, sans-serif;"><strong>
                        <h2><img src="{{url_for('static', filename = 'panimalay-114x114.png')}}">P A N I M A L A Y</h2>
                    </strong></a></li>
        </ul>
    </nav>
</header>

<body>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <div class="container pb-5 mb-sm-5" style="margin-top: 100px;">
        <div class="row pt-5 justify-content-center">
            <div class="col-md-6 pt-sm-3" style="margin-top: 130px;">
                <div class="card">
                    <div class="card-body">
                        <h2 class="h4 mb-1">Sign in</h2>
                        <p style="color: gray">No account? Sign up <a href="{{url_for('signup')}}">here.</a></p>
                        <hr>
                        <form action="{{url_for('login')}}" method="POST">
                            <div class="input-group form-group">
                                <div class="input-group-prepend"><span class="input-group-text"><i
                                            class="fa fa-user fa-lg"></i></span></div>
                                <input class="form-control" type="text" placeholder="Enter your username"
                                    id="usernameOrEmail" name="usernameOrEmail" required="1">
                                <div class="invalid-feedback">Please enter valid username!</div>
                            </div>
                            <div class="input-group form-group">
                                <div class="input-group-prepend"><span class="input-group-text"><i
                                            class="fa fa-lock fa-lg"></i></span></div>
                                <input class="form-control" type="password" id="password" name="password"
                                value="" placeholder="Enter your password" required="1"><span 
                                toggle="#password" class="fa fa-eye field-icon toggle-password"></span>
                                <div class="invalid-feedback">Please enter valid password!</div>
                            </div>
                            <div id="invalidUserNameOrPassword" name="invalidUserNameOrPassword"><small style="color: red;">Invalid username or password</small></div>
                            <hr class="mt-2">
                            <div class="text-left">
                                <p style="margin-top: -2%;"><a href="{{url_for('forgotPassword')}}">Forgot Password?</a></p>
                            </div>
                            <div class="text-right pt-4">
                                <button class="btn" type="submit" style="background-color: #4A707A; color: white;">Sign In</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
    <!--Toggle script-->
    <script>

        $(document).ready(function(){
            $("#invalidUserNameOrPassword").hide();
            {% if usernameOrEmail is defined %}
            $("#usernameOrEmail").val('{{usernameOrEmail}}');
            $("#usernameOrEmail").css({'border':'solid red 1px'})
            $("#password").val('{{password}}');
            $("#password").css({'border':'solid red 1px'})
            $("#invalidUserNameOrPassword").show();
            {%endif %}
        })
    </script>
    <script>
        $(document).ready(function(){
            $("#usernameOrEmail").on('change',function(){
                $("#usernameOrEmail").css({'border':'1px solid rgba(255,255,255,0.7)'})
                $("#password").css({'border':'1px solid rgba(255,255,255,0.7)'})
                $("#invalidUserNameOrPassword").hide();
            })
            $("#password").on('change',function(){
                $("#usernameOrEmail").css({'border':'1px solid rgba(255,255,255,0.7)'})
                $("#password").css({'border':'1px solid rgba(255,255,255,0.7)'})
                $("#invalidUserNameOrPassword").hide();
            })
            
        })
    </script>
    <script>    
        $(".toggle-password").click(function () {

            $(this).toggleClass("fa-eye fa-eye-slash");
            var input = $($(this).attr("toggle"));
            if (input.attr("type") == "password") {
                input.attr("type", "text");
            } else {
                input.attr("type", "password");
            }
        });
        
    </script>
    <!--Toggle script-->
</html>