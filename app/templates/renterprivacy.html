<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Panimalay</title>
    <link rel="shortcut icon" type="image/png" href="{{url_for('static',filename='panimalay-196x196.png')}}">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=QrWIK7nVZ0wXBUyGetUji0Ya2tS4AdIcc74KQEEaKMBsE3iXlIxRwieFdkCR8n34niF2M4O9bgQ5dmENiR9q4Rq_eJnXbctLa5JmMC9STTxIdyE9sPexmq-INYjxQP7SrYr0slcNagg2aiUZOfzZV6nNVgDRVvg-atUlgIL2Ywk" charset="UTF-8"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type=text/javascript>
            $(function() {
                $('a#sendVerificationCode').bind('click', function() {
                $.getJSON('/send/email/verification/code', {
                }, function(data) {
                   var code = data['result'];
                   console.log(data);
                   $("#emailVerificationForm").on("submit",function(e){
                     e.preventDefault();
                     var codeProvided = $("#verifyEmail").val();
                     if (code===codeProvided){
                        e.currentTarget.submit();
                     }
                     else{
                        alert("Invalid Verification Code");
                     }
                   })
                });
                return false;
                });
            });

            $(function() {
                $('a#sendVerificationCodePhone').bind('click', function() {
                $.getJSON('/send/phone/number/verification/code', {
                }, function(data) {
                   var code = data['result'];

                   $("#phoneNumberVerificationForm").on("submit",function(e){
                     e.preventDefault();
                     var codeProvided = $("#verifyMobile").val();
                     if (code===codeProvided){
                        e.currentTarget.submit();
                     }
                     else{
                        alert("Invalid Verification Code");
                     }
                   })
                });
                return false;
                });
            });
           
        </script>
  </head>

<style>
body {
background-color: #94B0B7;
}
.navbar-dark .navbar-nav .nav-link {
color: white;
font-size: 1.7rem;
}
.card-body {
padding: 1rem;
}

.gutters-sm {
margin-right: -8px;
margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
padding-right: 8px;
padding-left: 8px;
}
</style>
<!--End of style-->

<body>
<!--Navbar-->
<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
<nav class="navbar navbar-dark">
<div class="container">
    <a href="#" class="navbar-brand" style="font-family: Arial, Helvetica, sans-serif; font-size: 23px;"><strong><img src="{{url_for('static', filename = 'panimalay-114x114.png')}}" style="margin-left: -50%;">P A N I M A L A Y</strong></a>		
    <ul class="navbar-nav" style="margin-right: -10%;">
        <a href="{{url_for('logout')}}" class="nav-link" style="font-size: 18px;">Logout <i class="fa fa-sign-out"></i></a>
    </ul>
</div>
</nav>
<!--End of navbar-->

<!--Dashboard-->
<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
<div id="page-wrapper" class="container">
  <div class="row">
  <div class="col-lg-12">
    <ol class="breadcrumb">
      <li class="active"><i class="fa fa-dashboard"></i> Privacy</li>
    </ol>
  </div>
</div>
</div>
<!--End of dashboard-->

<!-- Privacy settings-->
<div class="container"> 
    <div class="row gutters-sm">
      <div class="col-md-12">
        <div class="card">
          <div class="card-body tab-content">
            <div class="tab-pane active" id="security">
              <h6>SECURITY SETTINGS</h6>
              <form>
                <div class="form-group">
                  <label class="d-block">Enable two-factor authentication</label>
                  <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="switch" name="switch">
                    <label class="custom-control-label" for="switch"></label>
                  </div>
                  <p class="small text-muted mt-2">Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in.</p>
                </div>
              </form>
              <hr>
              <form>
                <div class="form-group mb-0">
                  <label class="d-block">Ways we can verify it's you</label>
                  <ul class="list-group list-group-sm" style="margin-bottom: 1%">
                    <li class="list-group-item">
                      <div>
                        <h6 class="mb-0">Email Verification</h6>
                        <small class="text-muted">mersanacanonigo@gmail.com</small>
                      </div>
                      <button class="btn btn-primary btn-sm" href="#emailverificationModal" type="button" style="margin-top: 1%;" data-toggle="modal">Verify</button></a>
                    </li>
                  </ul>
                  <ul class="list-group list-group-sm">
                    <li class="list-group-item">
                      <div>
                        <h6 class="mb-0">Mobile Verification</h6>
                        <small class="text-muted">09675188574</small>
                      </div>
                      <button class="btn btn-primary btn-sm" href="#mobileverificationModal" type="button" style="margin-top: 1%;" data-toggle="modal">Verify</button></a>
                    </li>
                  </ul>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="float-right" style="margin-top: 2%;">
          <a href="{{url_for('dashboard')}}"><button class="btn" type="submit" style="background-color: #C2C8C5; color: black; width: 220px;"><i class="fa fa-arrow-left" style="margin-right: 5%;"></i>Go back to dashboard</button></a>
        </div> 
      </div>
    </div>
</div>
<!-- End of privacy settings-->

<!-- Mobile verification modal -->
<div id="mobileverificationModal" class="modal fade">
	<div class="modal-dialog modal-login">
		<div class="modal-content">
			<form id="phoneNumberVerificationForm" name="phoneNumberVerificationForm" action="{{url_for('verifyPhoneNumber')}}" method="POST">
				<div class="modal-header">				
					<h4 class="modal-title">Mobile Verification</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body">				
					<div class="form-group">
						<label>Your Mobile Number</label>
						<input type="text" class="form-control" id="verifyMobile" name="verifyMobile" value="" required="required">
            <a id="sendVerificationCodePhone" name="sendVerificationCodePhone" href="#"><h6 class="mb-0">Send Verification Code</h6></a>
            <h6 id="codeSentIndicatorPhone" name="codeSentIndicatorPhone" class="small">Verification code was sent, please check your phone inbox.</h6>
					</div>
				</div>
				<div class="modal-footer">
          <input type="button" class="btn btn-secondary" data-dismiss="modal" value="Cancel">
					<input type="submit" class="btn btn-primary" value="Verify">
				</div>
			</form>
		</div>
	</div>
</div> 
<!-- End of mobile verification modal -->

<!-- Email verification modal -->
<div id="emailverificationModal" class="modal fade" style="margin-top: 10%;">
	<div class="modal-dialog modal-login">
		<div class="modal-content">
			<form id="emailVerificationForm" name="emailVerificationForm" action="{{url_for('verifyEmail')}}" method="POST">
				<div class="modal-header">				
					<h4 class="modal-title">Email Verification</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body">				
					<div class="form-group">
						<label>Your Email Address</label>
						<input type="text" class="form-control" id="verifyEmail" name="verifyEmail" value="" required="required" placeholder="Enter Verification Code">
            <br>
            <a id="sendVerificationCode" name="sendVerificationCode" href="#"><h6 class="mb-0">Send Verification Code</h6></a>
            <h6 id="codeSentIndicator" name="codeSentIndicator" class="small">Verification code was sent, please check your email.</h6>
					</div>
				</div>
				<div class="modal-footer">
          <input type="button" class="btn btn-secondary" data-dismiss="modal" value="Cancel">
					<input type="submit" class="btn btn-primary" value="Verify">    
				</div>
			</form>
		</div>
	</div>
</div> 
<!-- End of email verification modal -->

</body> 
<script>
$(document).ready(function(){
  $("#codeSentIndicator").hide();
  $("#codeSentIndicatorPhone").hide();

  $("#sendVerificationCode").click(function(){
    $("#sendVerificationCode").hide();
    $("#codeSentIndicator").show();

})
  $("#sendVerificationCodePhone").click(function(){
    $("#sendVerificationCodePhone").hide();
    $("#codeSentIndicatorPhone").show();

})

})


</script>
</html>